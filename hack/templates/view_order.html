{% load static%}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <title>University Helping Hand Services</title>
    <style>
        html {
            background-image: url('{% static 'images/canteenbg.jpg'%}');
            background-repeat:no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
        .col-md-3 {
            display: inline-block;
            margin-left: -4px;
        }

        <!--.col-md-3 {
            width: 100%;
            height: auto;
        }-->

        .col-md-3 img{
            width: 170px;
            height: 200px;
        }

        body .no-padding {
            padding-left: 0;
            padding-right: 0;
        }

        .carousel-control-prev-icon {
            background: black no-repeat center center;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3e%3c/svg%3e");
        }

        .carousel-control-next-icon {
            background: black no-repeat center center;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3e%3c/svg%3e");

        }
        body .carousel-indicators{
        bottom:0;
        }
        .carousel-control-next
        .carousel-control-prev
        {
            top:auto;
            bottom: auto;
            padding-top: 222px;
        }

        .carousel-indicators .active{
        background-color: blue;
        }

    </style>
</head>

<body style="background-image: url('{% static 'images/canteenbg2.jpg'%}'); background-repeat: no-repeat; background-size: cover;">


    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#"><img src="{% static 'images/logo1.png'%}" height="50%" width="70%"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="dashboard">Dashboard <span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Services
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="canteen">Canteen</a>
                        <a class="dropdown-item" href="cleanliness">Cleanliness</a>
                        <a class="dropdown-item" href="lostfound">Lost & Found</a>
                        <a class="dropdown-item" href="event">Event Management</a>
                    </div>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0" action="/">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button> &nbsp; &nbsp;
                <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Log Out</button>
                <button type="button" class="btn btn-secondary mx-2" id="popcart" data-html="true" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="bottom" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus.">
                    cart(<span id="cart">0</span>)
                  </button>
            </form>
        </div>
    </nav>



    <div class="container" style="width: 60%; padding: 50px; box-shadow: 5px 5px 5px 5px black; background-color:rgba(239,239,239,0.9);border-radius:25px; ">

        <div class="col my-4">
            <h2 style="font-size: 30px; text-align: center; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">Update Order Status</h2>
            <form method="POST" >
                {% csrf_token %}
                <input type="hidden" name="itemsJson" id="id_items_json" value="{{order1.items_json}}">
                <input type="hidden" name="tPrice" id="id_tprice" value="{{order1.tprice}}">
                <div class="form-group">
                    <label for="inputPrice"> Enter Total Price</label>
                    <input type="text" class="form-control" id="id_tprice" name="tPrices" value="{{order1.tprice}}">
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inputname">Name</label>
                        <input type="name" class="form-control" name="name" id="id_name" placeholder="Name" value="{{order1.name}}">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="time">Time</label>
                        <input type="time" class="form-control" name="time" id="id_time" placeholder="time" value="{{order1.time}}">
                    </div>
                </div>
                <div class="form-group">
                        <label for="inputPhone">Phone Number</label>
                        <input type="tel" class="form-control" id="inputPhone" name="id_phone" value="{{order1.phone}}">
                    </div>
                <div class="form-group">
                        <label for="status"> Status</label>
                        <input type="tel" class="form-control" id="status" name="id_status" value="{{order1.status}}">
                    </div>
                <button type="submit" class="btn btn-primary">Update</button>
            </form>
        </div>
    </div>



    <footer class="text-gray-700 body-font" style="background-color: black;">
        <div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col">
            <a class="flex title-font font-medium items-center md:justify-start justify-center text-gray-900">
                <a class="navbar-brand" href="#"><img src="{% static 'images/logo1.png'%}" height="50%" width="70%"></a>
            </a>
            <p class="text-sm text-gray-500 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4">Â© 2020 University Helping Hand

            </p>
            <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start">
                <a class="text-gray-500">
                    <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        class="w-5 h-5" viewBox="0 0 24 24">
                        <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path>
                    </svg>
                </a>
                <a class="ml-3 text-gray-500">
                    <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        class="w-5 h-5" viewBox="0 0 24 24">
                        <path
                            d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z">
                        </path>
                    </svg>
                </a>
                <a class="ml-3 text-gray-500">
                    <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
                        <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
                        <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
                    </svg>
                </a>
                <a class="ml-3 text-gray-500">
                    <svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        stroke-width="0" class="w-5 h-5" viewBox="0 0 24 24">
                        <path stroke="none"
                            d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z">
                        </path>
                        <circle cx="4" cy="4" r="2" stroke="none"></circle>
                    </svg>
                </a>
            </span>
        </div>
    </footer>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>
    <script>
        if (localStorage.getItem('cart') == null) {
            var cart = {};
        } else {
            cart = JSON.parse(localStorage.getItem('cart'));
        }
        console.log(cart);
        var sum = 0;
        var totalPrice = 0;
        var tPrice = 0;
        if ($.isEmptyObject(cart)) {
            //if object is empty
            mystr = `<p>Your cart is empty, please add some items to your cart before checking out!</p>`
            $('#items').append(mystr);
        } else {
            for (item in cart) {
                let name = cart[item][1];
                let qty = cart[item][0];
                let itemPrice = cart[item][2];
                sum = sum + qty;
                totalPrice = totalPrice + qty*itemPrice;
                tPrice =totalPrice;
                mystr = `<li class="list-group-item d-flex justify-content-between align-items-center">
                            ${name}
                            <span class="badge badge-primary badge-pill">${qty}</span>
                        </li>`
                $('#items').append(mystr);
            }
        }
        document.getElementById('cart').innerHTML = sum;
        document.getElementById('totalPrice').innerHTML = totalPrice;
        document.getElementById('tPrice').innerHTML = tPrice;
        $('#itemsJson').val(JSON.stringify(cart));
        {% if thank %}
        alert('Thanks for ordering with us. Your order is is {{id}}. Use it to track your order using our order tracker');
        localStorage.clear();
        document.location = "/canteen";
        {% endif %}
        </script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
</body>

</html>